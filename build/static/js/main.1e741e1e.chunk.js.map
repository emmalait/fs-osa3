{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","newSearch","handlePersonsToShowChange","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","object","delete","concat","Person","name","number","setErrorMessage","personObject","key","onClick","event","preventDefault","window","confirm","personService","deletedPerson","console","log","setTimeout","Persons","personsToShow","map","person","components_Person","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearch","_useState9","_useState10","setPersonsToShow","_useState11","_useState12","errorMessage","useEffect","initialPersons","components_Notification","components_Filter","target","findSearched","filter","f","toLowerCase","includes","components_PersonForm","length","returnedPerson","alert","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1e741e1e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({newSearch, handlePersonsToShowChange}) => {\n    return (\n        <form>\n        <div>\n          rajaa näytettäviä: <input value={newSearch} onChange={handlePersonsToShowChange} />\n        </div>\n      </form>\n    )\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n    return (\n        <form onSubmit={addPerson}>\n        <div>\n          nimi: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          numero: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteFromDb = (id, object) => {\n    const request = axios.delete(`${baseUrl}/${id}`, object)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, update, deleteFromDb };","import React from 'react'\nimport personService from \"../services/persons\"\n\nconst Person = ({id, name, number, setErrorMessage}) => {\n\n    const personObject = { id: id, name: name, number: number }\n\n    const deletePerson = event => {\n        event.preventDefault();\n    \n        if (window.confirm(`Haluatko varmasti poistaa henkilön ${name}?`)) { \n            personService\n                .deleteFromDb(id, personObject)\n                .then(deletedPerson => {\n                    console.log('Poistettu')\n                    setErrorMessage(\n                        `Henkilö ${personObject.name} poistettiin palvelimelta`\n                      )\n                      setTimeout(() => {\n                        setErrorMessage(null)\n                      }, 5000)\n                \n                })\n          }\n    \n    }\n    \n    return (\n        <p key={id}>\n            {name} {number}\n            <button onClick={deletePerson}>\n                Poista\n            </button>\n        </p>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from \"./Person\";\n\nconst Persons = ({personsToShow, setErrorMessage}) => {    \n    const rows = () =>\n    personsToShow.map(person => (\n      <div>\n        <Person\n            id={person.id}\n            name={person.name}\n            number={person.number}\n            key={person.id}\n            setErrorMessage={setErrorMessage} \n            />\n      </div>\n    ));\n\n    return (\n        rows()\n    )\n}\n\nexport default Persons;","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [personsToShow, setPersonsToShow] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n      setPersonsToShow(initialPersons);\n    });\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    var findExisting = persons.filter(function(f) {\n      return f.name === newName;\n    });\n\n    if (findExisting.length < 1) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n\n      personService.create(personObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setPersonsToShow(personsToShow.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n\n        setErrorMessage(\n          `Henkilö '${newName}' lisättiin palvelimelle`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      });\n    } else {\n      window.alert(`${newName} on jo luettelossa!`);\n    }\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handlePersonsToShowChange = event => {\n    setNewSearch(event.target.value);\n\n    const findSearched = persons.filter(function(f) {\n      return f.name.toLowerCase().includes(event.target.value.toLowerCase());\n    });\n\n    setPersonsToShow(findSearched);\n  };\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      <Notification message={errorMessage} />\n\n      <Filter\n        newSearch={newSearch}\n        handlePersonsToShowChange={handlePersonsToShowChange}\n      />\n\n      <h3>Lisää uusi</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numerot</h2>\n\n      <Persons\n        personsToShow={personsToShow}\n        setErrorMessage={setErrorMessage}\n        />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}